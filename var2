import java.util.Scanner;
class Film {
    String name, country, genre;
    double year, prokat;
}
public class Films {
    // МЕТОДЫ ДЛЯ ВСЕХ ПОДЗАДАЧ для работы с объектами класса Film
        public static Film[] setKinoArr(int k){ // ВВОД МАССИВА СТРАН
        Scanner sc=new Scanner(System.in,"cp1251");
        Film films[]=new Film[k];

        System.out.println("Введите информацию о фильмах: ");
        for (int i = 0; i < films.length; i++) {
            films[i]=new Film();
            System.out.print("Название "+(i+1)+"-го фильма => ");
            films[i].name=sc.nextLine();
            System.out.print("Страну-производитель "+(i+1)+"-го фильма => ");
            films[i].country=sc.nextLine();
            System.out.print("Жанр "+(i+1)+"-го фильма => ");
            films[i].genre=sc.nextLine();
            System.out.print("Стоимость проката "+(i+1)+"-го фильма => ");
            films[i].prokat =sc.nextDouble();
            System.out.print("Год выхода "+(i+1)+"-го фильма => ");
            films[i].year =sc.nextDouble();
            sc.nextLine(); // очистка буфера
        }
        return films;
    }

    public static void showArray(Film[] cntr){ // ВЫВОД МАССИВА
        for (int i = 0; i < cntr.length; i++) {
            System.out.println("" + cntr[i].name + " \t" +  " \t" + cntr[i].country + " \t" + cntr[i].genre +" \t" + cntr[i].prokat + " \t" + cntr[i].year +" года");
        } }
    // ИНФОРМАЦИЯ ОБ ОДНОМ ФИЛЬМЕ
    public static void showFilm(Film flm){
        System.out.println(""+flm.name+"\t"+flm.country+"\t"+flm.genre+"\t"+flm.prokat+"\t"+flm.year+" года"); }
    // НОМЕР ФИЛЬМА С САМЫМ РАННИМ ВЫХОДОМ
    public static int NomMax(Film[]fil){
        int nommin=1; // номер элемента фильма с самым ранним годом выпуска
        // (начальное значение)
        double min=fil[nommin].year; // мин. год выхода (начальное значение)
        for (int i = 0; i < fil.length; i++)
            if (fil[i].year <min) {
                min= fil[i].year;
                nommin=i;
            }
        return nommin;
    }
    // СОРТИРОВКА ФИЛЬМОВ ГОДУ ВЫПУСКА
    public static void sortYear(Film[]cntr){
        for (int i = 0; i < cntr.length-1; i++)
            for (int j = 0; j < cntr.length-1-i; j++)
                if (cntr[j].year >cntr[j+1].year){
                    Film rab=cntr[j]; // rab – рабочая переменная для перестановки
                    cntr[j]=cntr[j+1];
                    cntr[j+1]=rab;
                }
    }
    // СОРТИРОВКА ФИЛЬМОВ ПО НАЗВАНИЮ
    public static void sortName(Film[] cntr){
        for (int i = 0; i < cntr.length-1; i++)
            for (int j = 0; j < cntr.length-i-1; j++)
                if(cntr[j].name.compareTo(cntr[i+1].name)>0){
                    Film rab=cntr[j]; // rab – рабочая переменная для перестановки
                    cntr[j]=cntr[j+1];
                    cntr[j+1]=rab;
                }
    }

    public static double avgProkat( Film[] kn){ // СРЕДНИЙ ПРОКАТ
        double s=0; // суммарный прокат
        for (int i = 0; i < kn.length; i++)
            s+=kn[i].prokat;
        double sr=s/kn.length; // средний прокат
        return sr;
    }
    // ФИЛЬМЫ С ПРОКАТОМ ВЫШЕ СРЕДНЕЙ
    public static Film[] Bigger(Film cntr[]){
        double sred=avgProkat(cntr);
        int kol=0; // количество фильмов
        for (int i = 0; i < cntr.length; i++) {
            if (cntr[i].prokat >sred)
                ++kol;
        }
        if (kol != 0){
            Film[] bigFilms=new Film[kol];
            int n=-1;
            for (int i = 0; i < cntr.length; i++)
                if (cntr[i].prokat >sred) {
                    bigFilms[++n]=cntr[i];
                }
            return bigFilms;
        } else return null;
    }
    // ПОИСК ПО НАЗВАНИЮ
    public static Film findForName(Film flms[], String name){
        int n=-1; // -1 – страна с искомым названием отсутствует
        for (int i = 0; i < flms.length; i++)
            if (name.equals(flms[i].name))
                n=i;
        if (n!= -1) {
            return flms[n];
        }else return null;
    }

    public static void main(String[] args) { // ГЛАВНЫЙ КЛАСС С МЕТОДАМИ
        Scanner sc=new Scanner(System.in,"cp1251");
        System.out.print("Введите количество фильмов=> ");
        int n=sc.nextInt(); // количество фильмов
        Film films[]= setKinoArr(n); // ввод информации о фильмах

        System.out.println("\nХарактеристики фильмов:");
        showArray(films); // вывод полученной информации

// Фильм с самым ранним годом выпуска
        int nommax=NomMax(films);
        System.out.println("\nФильм с самым ранним годом выпуска:");
        showFilm(films[nommax]);

// сортировка фильмов по году
        sortYear(films);
        System.out.println("\nОтсортированный список по году:");
        showArray(films);

// сортировка фильмов по названию
        sortName(films);
        System.out.println("\nОтсортированный список по названиям:");
        showArray(films);
// cредний прокат
        System.out.println("Средний прокат ="+avgProkat(films));

// прокат выше среднего
        System.out.println("\nФильмы, с прокатом выше среднего");
        Film[] larger=Bigger(films);
        showArray(larger);
// поиск фильма
        System.out.println("\nПОИСК ФИЛЬМА \n Введите название фильма => ");
        sc.nextLine();
        String sname=sc.nextLine();
        Film sfind =findForName(films, sname);
        if (sfind!=null) {
            showFilm(sfind);
        } else {
            System.out.println("Такого фильма нет в списке!");
        }
        }
}
